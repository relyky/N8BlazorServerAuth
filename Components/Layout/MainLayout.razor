@inherits LayoutComponentBase

<MudThemeProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
  <MudAppBar Elevation=1>
    <MudIconButton Icon=@Icons.Material.Filled.Menu Color=Color.Inherit Edge=Edge.Start OnClick=DrawerToggle />
    <MudText Typo=Typo.h5 Class="ml-3">N8BlazorServerAuth</MudText>
    <MudSpacer />

    <AuthorizeView Context="auth">
      <MudChip Icon=@Icons.Material.Filled.Person Color=Color.Secondary IconColor=Color.Inherit>@(auth.User.Identity?.Name)</MudChip>
    </AuthorizeView>

    <MudIconButton Icon=@Icons.Material.Filled.MoreVert Color=Color.Inherit Edge=Edge.End />
  </MudAppBar>
  <MudDrawer @bind-Open=_drawerOpen ClipMode=DrawerClipMode.Always Elevation=2>
    <NavMenu />
  </MudDrawer>
  <MudMainContent>
    @Body
  </MudMainContent>
</MudLayout>

<div id="blazor-error-ui">
  An unhandled error has occurred.
  <a href="" class="reload">Reload</a>
  <a class="dismiss">🗙</a>
</div>

@code {
  bool _drawerOpen = true;

  void DrawerToggle() => _drawerOpen = !_drawerOpen;
}

@* 
<div class="page">
  <div class="sidebar">
    <NavMenu />
  </div>

  <main>
    <div class="top-row px-4">
      <AuthorizeView Context="auth">
        <span class="bi bi-person-fill" aria-hidden="true"></span> @auth.User.Identity?.Name
      </AuthorizeView>
      <a href="https://learn.microsoft.com/aspnet/core/" target="_blank">About</a>
    </div>

    <article class="content px-4">
      @Body
    </article>
  </main>
</div> 

<div id="blazor-error-ui">
  An unhandled error has occurred.
  <a href="" class="reload">Reload</a>
  <a class="dismiss">🗙</a>
</div>
*@